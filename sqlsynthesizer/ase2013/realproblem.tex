

\begin{figure*}[t]
  \centering
  \includegraphics[scale=0.70]{example2}
  \vspace*{-1.0ex}\caption {{\label{fig:example2} Input-output
  examples ((a) and (c)) taken from an online SQL help forum
  thread. \ourtool automatically sythensizes 6 SQL queries that
  can produce the output table from the three input tables.
  (b) shows the highest ranked SQL query.
}}
\end{figure*}

We next describe a real SQL problem picked up from
an online SQL help forum\footnote{\url{http://forums.tutorialized.com/sql-basics-113/join-problem-147856.html}}.
The thread was started by a novice user, who needed help to write a
SQL query to get result from three input tables. In the help thread, the
novice user described his required query in a few paragraphs of
English, but also include several small, representative input-output
examples as shown in Figure~\ref{fig:example}, to better express
his intention. 
This thread receives no replies as of May 2012, and we speculated that
writing a SQL query to join three tables to produce certain output results
can be non-trivial.

We ran our tool on the input-output examples
in Figure~\ref{fig:example}. The tool produced 6 valid answers
in less than 1 minutes, all of which satisfy the given examples. The
highest ranked SQL query is shown in Figure~\ref{fig:answer},
which is quite unintuitive to write. The SQL query in Figure~\ref{fig:answer}
first joins three input tables
on columns \CodeIn{T1.Column2}, \CodeIn{T2.Column2},
\CodeIn{T2.Column1}, and \CodeIn{T3.Column1} using some
selected columns, and then aggregates the results based on
column \CodeIn{Table2.Column3}'s value. Finally, it
returns the minimal values of columns \CodeIn{T1.Column1}, \CodeIn{T1.Column4}, and \CodeIn{T3.Column2}
from each aggregated group as the results.

%Such help threads on online discussion forums are not rare, but the SQL
%queries needed to address them are non-trivial.

