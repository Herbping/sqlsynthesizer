
\section{Technique}
\label{sec:approach}

This section first gives an overview of \ourtool's
workflow and high-level algorithm in Section~\ref{sec:algorithm}, and
then explains \ourtool's three steps in details (Section~\ref{sec:skeleton},
Section~\ref{sec:completion}, and Section~\ref{sec:ranking}).



\begin{figure*}[t]
  \centering
  \includegraphics[scale=0.65]{workflow}
  \vspace*{-2.0ex}\caption {{\label{fig:workflow} Illustration
  of \ourtool's workflow of synthesizing SQL queries from input-output examples. 
}}
\end{figure*}

\vspace{-1mm}
\input{together}


\vspace{-1mm}
\input{skeletoncreation}
\input{featurex}


\vspace{-1mm}
\input{querycompletion}

\vspace{-1mm}
\input{ranking}


\vspace{-1mm}
\subsection{Discussion}
\label{sec:uim}

\vspace{-1mm}

%We next discuss some design issues in \ourtool.

\noindent \textbf{Soundness and Completeness.} \ourtool
is neither sound nor complete. The primary
reason is that several steps (e.g., the Query Skeleton Creation
step in Section~\ref{sec:skeleton}) use heuristics
to infer query tables, join conditions, and projection columns.
Such heuristics are necessary, since they provide a
good approximate solution to the problem of finding SQL queries
from examples. %, which has been proved to be
%PSPACE-hard and is thus intractable in practice.
Although \ourtool cannot guarantee to infer correct SQL queries
for all cases, as demonstrated in Section~\ref{sec:evaluation},
we find \ourtool
is useful in synthesizing a wide variety of queries in practice.


\begin{comment}
%\vspace{1mm}
\noindent \textbf{What if the input-output examples are not
representative enough?}
On some examples, \ourtool may produce a SQL query that
satisfies the input-output examples specified by the user,
but does not address the intention that the user wants.
To address this issue, we use a simple
interaction model~\cite{Harris:2011} to ask users to
investigate the query results and report any discrepancy.
After, the user can refine the inferred SQL query by providing a more
informative input-output example that demonstrate the behavior on
which the originally-inferred SQL query behaves incorrectly.
As demonstrated in our evaluation (Section~\ref{sec:evaluation}),
such an interactive model works fairly well in practice: 
a typical end-user only needs XXX rounds of interactions to
obtain the desirable SQL query.
\end{comment}
